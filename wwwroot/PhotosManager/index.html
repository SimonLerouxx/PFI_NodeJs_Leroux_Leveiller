<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestionnaire de photos</title>

    <!-------------------------------------------------- STYLES BUNDLE ------------------------------------------------------->
    <link rel="site.webmanifest" crossorigin="use-credentials" href="manifest.json" />
    <link rel="icon" href="data/images/xyz.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="css/sites.css">
    <link rel="stylesheet" href="css/customScrollBar.css">
    <link rel="stylesheet" href="css/user.css">
    <link rel="stylesheet" href="css/photo.css">
    <link rel="stylesheet" href="css/popup.css">
    <link rel="icon" href="favicon.ico">
    <!------------------------------------------------------------------------------------------------------------------------>
</head>

<body>
    <div id="main">
        <div id="header">
            <span title="Liste des photos" id="listPhotosCmd">
                <img src="images/PhotoCloudLogo.png" class="appLogo">
            </span>
            <span class="viewTitle">Liste des photos
                <div class="cmdIcon fa fa-plus" id="newPhotoCmd" title="Ajouter une photo"></div>
            </span>
            <div class="headerMenusContainer">
                <span>&nbsp;</span> <!--filler-->
                <i title="Modifier votre profil">
                    <div class="UserAvatarSmall" userid="${loggedUser.Id}" id="editProfilCmd" style="background-image:url('${loggedUser.Avatar}')" title="Nicolas Chourot"></div>
                </i>
                <div class="dropdown ms-auto dropdownLayout">
                    <!-- Articles de menu -->
                </div>
            </div>

        </div>
        <div id="content">
            <h3>${loginMessage}</h3>
            <form class="form" id="loginForm">
                <input type='email' name='Email' id="Email" class="form-control" required RequireMessage='Veuillez entrer votre courriel' InvalidMessage='Courriel invalide' placeholder="adresse de courriel" value='${Email}'>
                <span style='color:red'>${EmailError}</span>
                <input type='password' name='Password' id="Password" placeholder='Mot de passe' class="form-control" required RequireMessage='Veuillez entrer votre mot de passe'>
                <span style='color:red'>${passwordError}</span>
                <input type='button' name='submit' id="submit" value="Entrer" class="form-control btn-primary">
            </form>
            <div class="form">
                <hr>
                <button class="form-control btn-info" id="createProfilCmd">Nouveau compte</button>
            </div>
        </div>
    </div>


    <!------------------------------------------------- SCRIPTS BUNDLE ------------------------------------------------------->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.maskedinput/1.4.1/jquery.maskedinput.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <script src="js/api.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/imageControl.js"></script>
    <script src="js/date.js"></script>
    <script src='js/session.js'></script>
    <script src="js/siteUI.js"></script>

    <!------------------------------------------------------------------------------------------------------------------------>


    <script>

        var submitButton = document.getElementById('submit');
        var abort;

        submitButton.addEventListener('click', function() {
            var emailValue = document.getElementById('Email').value;
            var passwordValue = document.getElementById('Password').value;

            API.login(emailValue, passwordValue).then(function(result) {
                if (result) {
                    console.log('Login successful');
                } else {
                    console.error('Login failed');
                }
            });
        });


        var createAccount = document.getElementById("createProfilCmd");

        createAccount.addEventListener("click", function(){

            renderInscription();

        });

        

       
    </script>
</body>

</html>